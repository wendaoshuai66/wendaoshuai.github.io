(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{257:function(s,e,n){"use strict";n.r(e);var t=n(0),a=Object(t.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"深入-koa-原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#深入-koa-原理"}},[s._v("#")]),s._v(" 深入 Koa 原理")]),s._v(" "),n("p",[s._v("通过上一篇文章，我们已经了解到 Koa 是个非常精简的框架，实现起来难度并不大，这一章我们就一起来手写一个 koa 吧！")]),s._v(" "),n("p",[s._v("编写 application 文件")]),s._v(" "),n("p",[s._v("编写 request 和 response 文件")]),s._v(" "),n("p",[s._v("编写 context 文件")]),s._v(" "),n("h2",{attrs:{id:"编写-application-文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编写-application-文件"}},[s._v("#")]),s._v(" 编写 application 文件")]),s._v(" "),n("p",[s._v("Application 文件是 koa 的核心，所有逻辑都会经过该文件调度。")]),s._v(" "),n("h3",{attrs:{id:"开启-web-服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开启-web-服务器"}},[s._v("#")]),s._v(" 开启 Web 服务器")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("首先，koa 作为一个 web 服务器框架，开启一个 web 服务器是最基本的方法。")])]),s._v(" "),n("li",[n("p",[s._v("封装 listen 方法开启服务器（底层调用 http.createServer）。")])]),s._v(" "),n("li",[n("p",[s._v("在 http.createServer 回调函数中调用 callback 方法，执行中间件。")])]),s._v(" "),n("li",[n("p",[s._v("中间件执行不报错，会调用 respond 方法，对返回及结果进行操作。")])]),s._v(" "),n("li",[n("p",[s._v("中间件执行报错，会调用 onerror 方法，输出错误信息到客户端。")])])]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("//node 常见的事件模型就是我们常见的订阅发布模式，核心API采用的就是异步事件驱动\n//所有可能触发事件的对象都是一个继承自Emitter类的子对象，简单来说就是Node帮我们实现了订阅发布模式\nconst Emitter = require('events');\nconst http = require('http');\nconst request = require(\"./request\");\nconst response = require(\"./response\")\nconst context = require('./context')\nconst Stream = require('stream');\nclass Application extends Emitter {\n    constructor() {\n        super();\n        this.middlewares = [];\n        this.request = Object.create(request);\n        this.response = Object.create(response);\n        this.context = Object.create(context)\n    }\n    callback() {\n        return (req, res) => {\n            let fn = this.compose();\n            const ctx = this.createContext(req, res);\n            let respond = () => this.resposeBody(ctx)\n            let error = (err) => this.onerror(err, ctx)\n            return fn(ctx).then(respond).catch(error)\n        }\n    }\n    use(middleware) {\n        this.middlewares.push(middleware)\n            //链式调用\n        return this;\n    }\n    listen(...args) {\n        const server = http.createServer(this.callback())\n        server.listen(...args)\n    }\n\n}\nmodule.exports = Application;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("h2",{attrs:{id:"创建-context-代理请求和响应"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建-context-代理请求和响应"}},[s._v("#")]),s._v(" 创建 context 代理请求和响应")]),s._v(" "),n("p",[s._v("为了更方便用户的操作，koa 将请求和响应两个对象进行了代理，通过创建 context 对象，掌管整个请求和响应。")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("class Application extends Emitter {\n    createContext(req, res) {\n        //koa就是对node底层的转接\n        let ctx = Object.create(this.context);\n        ctx.request = Object.create(this.request);\n        ctx.response = Object.create(this.response);\n        ctx.req = ctx.request.req = req;\n        ctx.res = ctx.response.res = res;\n        return ctx;\n    }\n  \n\n}\nmodule.exports = Application;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"封装中间件执行逻辑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#封装中间件执行逻辑"}},[s._v("#")]),s._v(" 封装中间件执行逻辑")]),s._v(" "),n("p",[s._v("koa-compose 接收一个 middleware 的集合，并返回一个函数用来执行所有 middleware。代码执行的顺序是洋葱式的代码。")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('class Application extends Emitter {\n      compose() {\n        if (!Array.isArray(this.middlewares)) throw new TypeError("middlewares must be array")\n        for (let fn of this.middlewares) {\n            if (typeof fn !== "function") throw new TypeError("middleware must be composed of function")\n        }\n        return async(ctx) => {\n            let next = async() => {\n                return Promise.resolve();\n            }\n\n\n            let len = this.middlewares.length - 1;\n            for (let i = len; i >= 0; i--) {\n                let currentMiddle = this.middlewares[i];\n                next = creatNext(currentMiddle, next)\n            }\n            await next();\n\n            function creatNext(currentMiddle, nextMiddle) {\n                return async() => {\n                    await currentMiddle(ctx, nextMiddle);\n                }\n            }\n        }\n    }\n \n   \n\n}\nmodule.exports = Application;\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h2",{attrs:{id:"中间件执行完成后的操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#中间件执行完成后的操作"}},[s._v("#")]),s._v(" 中间件执行完成后的操作")]),s._v(" "),n("p",[s._v("中间件执行完成后会执行以下方法。")]),s._v(" "),n("ul",[n("li",[s._v("responseBody 向客户端输出数据之前，进行数据的处理。")]),s._v(" "),n("li",[s._v("onerror 如果中间件出错，则做出对应操作。")])]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\n\nclass Application extends Emitter {\n   \n    onerror(err, ctx) {\n        console.lof(ctx)\n        if (err.code == "ENOENT") {\n            ctx.status = 404;\n        } else {\n            ctx.status = 500;\n        }\n        let msg = err.message || "koa error";\n        ctx.res.end(msg);\n        this.emit("error", err);\n    }\n    resposeBody(ctx) {\n        const res = ctx.res;\n        let body = ctx.body;\n\n        if (Buffer.isBuffer(body)) return res.end(body);\n        if (\'string\' == typeof body) return res.end(body);\n        if (body instanceof Stream) return body.pipe(res);\n        body = JSON.stringify(body);\n        if (!res.headersSent) {\n            ctx.length = Buffer.byteLength(body);\n        }\n        res.end(body);\n    }\n    \n   \n  \n\n}\nmodule.exports = Application;\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])]),n("h2",{attrs:{id:"编写-request-和-response-文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编写-request-和-response-文件"}},[s._v("#")]),s._v(" 编写 request 和 response 文件")]),s._v(" "),n("p",[s._v("Request 和 Response 文件是对请求和响应的一层浅封装，提供一套更加方便的请求响应处理方法。")]),s._v(" "),n("h3",{attrs:{id:"编写-request-文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编写-request-文件"}},[s._v("#")]),s._v(" 编写 request 文件")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("var url = require('url');\n\n// 封装源生 request 操作\n// 例如：增加quert方法，快速定位参数。headers 方法快速扩区headers字段\nmodule.exports = {\n  get query() {\n    return url.parse(this.req.url, true).query;\n  },\n  get url() {\n    return this.req.url;\n  }\n};\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"编写-response-文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编写-response-文件"}},[s._v("#")]),s._v(" 编写 response 文件")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('// 封装源生 response 操作\n// 例如：body 方法，统一返回数据到客户端。socket 方法，快速获取 res 中的 socket 对象。\nmodule.exports = {\n    get body() {\n        return this._body;\n    },\n    set body(data) {\n        this._body = data;\n    },\n    get status() {\n        return this.res.statusCode;\n    },\n    set status(statusCode) {\n        if (typeof statusCode !== "number") {\n            throw new TypeError("statusCode must be number")\n        }\n        this.res.statusCode = statusCode;\n    }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h2",{attrs:{id:"编写-context-文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编写-context-文件"}},[s._v("#")]),s._v(" 编写 context 文件")]),s._v(" "),n("p",[s._v("在 context 文件中代理 request 和 response。")]),s._v(" "),n("ul",[n("li",[s._v("使用__defineSetter__方法代理 set 请求。")]),s._v(" "),n("li",[s._v("使用__defineGetter__方法代理 get 请求。")])]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//负责代理，把上面的方法代理到context上面\n\nlet proto = {};\n\n//老式的代理\n//__defineGetter__\n//__defineSetter__\nfunction delegateGet(property, name) {\n    proto.__defineGetter__(name, function(val) {\n        return this[property][name];\n    })\n}\n\nfunction delegateSet(property, name) {\n    proto.__defineSetter__(name, function(val) {\n        this[property][name] = val\n    })\n}\nlet requeSet = [];\nlet requeGet = ["query"];\nlet responseSet = ["body", "status"];\nlet responseGet = responseSet;\nrequeSet.forEach(ele => {\n    delegateSet("request", ele)\n})\nrequeGet.forEach(ele => {\n    delegateGet("request", ele)\n})\nresponseSet.forEach(ele => {\n    delegateSet("response", ele)\n})\nresponseGet.forEach(ele => {\n    delegateGet("response", ele)\n})\nmodule.exports = proto;\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")])]),n("h2",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),n("p",[s._v("仅供参考")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://wendaoshuai66.github.io/study/note/images/koaansy.png",alt:""}})]),s._v(" "),n("h2",{attrs:{id:"相关链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相关链接"}},[s._v("#")]),s._v(" 相关链接")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/wendaoshuai66/diguikoa",target:"_blank",rel:"noopener noreferrer"}},[s._v("diy-koa 代码仓库"),n("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=a.exports}}]);